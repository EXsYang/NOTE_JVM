# 常量入栈指令

> aconst_null 将null对象引用压入栈
> iconst_m1 将int类型常量-1压入栈
> iconst_0 将int类型常量0压入栈
> iconst_1 将int类型常量1压入栈
> iconst_2 将int类型常量2压入栈
> iconst_3 将int类型常量3压入栈
> iconst_4 将int类型常量4压入栈
> iconst_5 将int类型常量5压入栈
> lconst_0 将long类型常量0压入栈
> lconst_1 将long类型常量1压入栈
> fconst_0 将float类型常量0压入栈
> fconst_1 将float类型常量1压入栈
> dconst_0 将double类型常量0压入栈
> dconst_1 将double类型常量1压入栈
> bipush 将一个8位带符号整数压入栈
> sipush 将16位带符号整数压入栈
> ldc 把常量池中的项压入栈
> ldc_w 把常量池中的项压入栈（使用宽索引）
> ldc2_w 把常量池中long类型或者double类型的项压入栈（使用宽索引）

## 常量入栈常用指令集

|   xconst_n   | 范围                                                    | xconst_null | xconst_m1 | xconst_0 | xconst_1 | xconst_2 | xconst_3 | xconst_4 | xconst_5 |
| :----------: | ------------------------------------------------------- | ----------- | :-------: | :------: | :------: | :------: | :------: | :------: | :------: |
| **iconst_n** | [-1, 5]                                                 |             | iconst_m1 | iconst_0 | iconst_1 | iconst_2 | iconst_3 | iconst_4 | iconst_5 |
| **lconst_n** | 0, 1                                                    |             |           | lconst_0 | lconst_1 |          |          |          |          |
| **fconst_n** | 0, 1, 2                                                 |             |           | fconst_0 | fconst_1 | fconst_2 |          |          |          |
| **dconst_n** | 0, 1                                                    |             |           | dconst_0 | dconst_1 |          |          |          |          |
| **aconst_n** | null, String literal, Class literal                     | aconst_null |           |          |          |          |          |          |          |
|  **bipush**  | 一个字节，2^8^，[-2^7^, 2^7^ - 1]，即[-128, 127]        |             |           |          |          |          |          |          |          |
|  **sipush**  | 两个字节，2^16^，[-2^15^, 2^15^ - 1]，即[-32768, 32767] |             |           |          |          |          |          |          |          |
|   **ldc**    | 四个字节，2^32^，[-2^31^, 2^31^ - 1]                    |             |           |          |          |          |          |          |          |
|  **ldc_w**   | 宽索引                                                  |             |           |          |          |          |          |          |          |
|  **ldc2_w**  | 宽索引，long或double                                    |             |           |          |          |          |          |          |          |

## 常量入栈指令剖析

![437a717e-98e2-4847-b52e-e6632d0745a4](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210424193115.png)
![ffd7246e-2e46-41e0-9fd6-1e65ace5dbd1](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210424193125.png)

<table>
    <tbody>  
        <tr>
            <th>类型</th> 
            <th>常数指令</th> 
            <th>范围</th> 
       </tr>
       <tr>
            <td rowspan="4">int(boolean,byte,char,short)</td>
            <td>iconst</td>
            <td>[-1, 5]</td>
       </tr>	
       <tr>
            <td>bipush</td>
            <td>[-128, 127]</td>
       </tr>
       <tr>
            <td>sipush</td>
            <td>[-32768, 32767]</td>
       </tr> 
       <tr>
            <td>ldc</td>
            <td>any int value</td>
       </tr>
       <tr>
            <td rowspan="2">long</td>
            <td>lconst</td>
            <td>0, 1</td>
       </tr>	
       <tr>
            <td>ldc</td>
            <td>any long value</td>
       </tr>
       <tr>
            <td rowspan="2">float</td>
            <td>fconst</td>
            <td>0, 1, 2</td>
       </tr>	
       <tr>
            <td>ldc</td>
            <td>any float value</td>
       </tr>
       <tr>
            <td rowspan="2">double</td>
            <td>dconst</td>
            <td>0, 1</td>
       </tr>	
       <tr>
            <td>ldc</td>
            <td>any double value</td>
       </tr> 
       <tr>
            <td rowspan="2">reference</td>
            <td>aconst</td>
            <td>null</td>
       </tr>
       <tr>
            <td>ldc</td>
            <td>String literal, Class literal</td>
       </tr>
   <tbody> 
</table>

![566b9397-5afe-4a3f-9e17-9ebf504dfc80](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210424195944.png)
![b59702d2-4c93-44df-87f1-01a5dfe53b61](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210424200020.png)

