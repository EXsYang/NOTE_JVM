# 常量池集合

![3fbabd86-ef93-4155-8897-5ba80df00d4e](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421224757.png)

| 类型           | 名称                | 数量                    |
| -------------- | ------------------- | ----------------------- |
| u2（无符号数） | constant_pool_count | 1                       |
| cp_info（表）  | constant_pool       | constant_pool_count - 1 |

![image-20210421224936271](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421224936.png)

## 1. 常量池计数器

![84ce6f3d-fbf0-4490-842a-856f965a5429](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421225252.png)

## 2. 常量池表

![f8a9cc2b-634e-4d54-a4cb-e4602aefd563](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421225417.png)

| 类型                             | 标志(或标识) | 描述                   |
| -------------------------------- | ------------ | ---------------------- |
| CONSTANT_Utf8_info               | 1            | UTF-8编码的字符串      |
| CONSTANT_Integer_info            | 3            | 整型字面量             |
| CONSTANT_Float_info              | 4            | 浮点型字面量           |
| CONSTANT_Long_info               | 5            | 长整型字面量           |
| CONSTANT_Double_info             | 6            | 双精度浮点型字面量     |
| CONSTANT_Class_info              | 7            | 类或接口的符号引用     |
| CONSTANT_String_info             | 8            | 字符串类型字面量       |
| CONSTANT_Fieldref_info           | 9            | 字段的符号引用         |
| CONSTANT_Methodref_info          | 10           | 类中方法的符号引用     |
| CONSTANT_InterfaceMethodref_info | 11           | 接口中方法的符号引用   |
| CONSTANT_NameAndType_info        | 12           | 字段或方法的符号引用   |
| CONSTANT_MethodHandle_info       | 15           | 表示方法句柄           |
| CONSTANT_MethodType_info         | 16           | 标志方法类型           |
| CONSTANT_InvokeDynamic_info      | 18           | 表示一个动态方法调用点 |

![](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421225700.png)

| 标志符 | 含义                                                |
| ------ | --------------------------------------------------- |
| B      | 基本数据类型byte                                    |
| C      | 基本数据类型char                                    |
| D      | 基本数据类型double                                  |
| F      | 基本数据类型float                                   |
| I      | 基本数据类型int                                     |
| J      | 基本数据类型long                                    |
| S      | 基本数据类型short                                   |
| Z      | 基本数据类型boolean                                 |
| V      | 代表void类型                                        |
| L      | 对象类型，比如：`Ljava/lang/Object;`                |
| [      | 数组类型，代表一维数组。比如：`double[][][] is [[[D |

![3](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421230200.png)
![1](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421230422.png)
![1598773300484](https://gitee.com/vectorx/ImageCloud/raw/master/img/1598773300484.png)
![1598773308492](https://gitee.com/vectorx/ImageCloud/raw/master/img/1598773308492.png)
![2](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421230442.png)
![3](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421230448.png)
![4](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421230455.png)
![5](https://gitee.com/vectorx/ImageCloud/raw/master/img/20210421230500.png)